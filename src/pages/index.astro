---
import { Button } from '@/components/ui/button'
import BaseHead from '@/components/BaseHead.astro'
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts'
import { getCollection } from 'astro:content'

import styles from './styles.module.scss'

const posts = (await getCollection('posts')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
)
---

<!doctype html>
<html lang="ko">
  <head>
    <!-- meta data -->
  </head>
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />

  <body>
    <main>
      <section>
        <ul>
          {
            posts.map((post) => (
              <li>
                <a href={`/posts/${post.slug}/`} class={styles['test']}>
                  {/* <img width={720} height={360} src={post.data.heroImage} alt="" /> */}
                  <h4 class="title">{post.data.title}</h4>
                  {/* <p class="date">
										<FormattedDate date={post.data.pubDate} />
									</p> */}
                </a>
              </li>
            ))
          }
        </ul>
        <Button>test</Button>
      </section>
    </main>
    <!-- <Footer /> -->
  </body>


</html>
